<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FlowLock | Next-Gen API Security</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'],
                    },
                    colors: {
                        apple: {
                            black: '#000000',
                            dark: '#161617',
                            gray: '#1d1d1f',
                            lightGray: '#86868b',
                            text: '#f5f5f7',
                            blue: '#2997ff',
                            blueHover: '#0071e3',
                        }
                    },
                    backgroundImage: {
                        'glow-gradient': 'radial-gradient(circle at center, rgba(41, 151, 255, 0.15) 0%, transparent 60%)',
                        'chroma-grid': 'linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px), linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px)',
                    },
                    animation: {
                        'fade-up': 'fadeUp 1s ease-out forwards',
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #000000;
            color: #f5f5f7;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden; /* Prevent horizontal scroll on mobile */
        }
        
        /* Glass Nav */
        .glass-nav {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: saturate(180%) blur(20px);
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .text-gradient {
            background: linear-gradient(135deg, #fff 0%, #86868b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .bento-card {
            background-color: #161617;
            border-radius: 30px;
            transition: transform 0.3s ease, background-color 0.3s ease;
            border: 1px solid rgba(255,255,255,0.05);
        }
        /* Disable hover scale on mobile to prevent sticky states */
        @media (min-width: 768px) {
            .bento-card:hover {
                transform: scale(1.02);
                background-color: #1d1d1f;
                border-color: rgba(255,255,255,0.1);
            }
        }

        /* Chroma Grid */
        .chroma-grid-overlay {
            background-size: 50px 50px;
            mask-image: radial-gradient(ellipse at center, black 40%, transparent 80%);
            -webkit-mask-image: radial-gradient(ellipse at center, black 40%, transparent 80%);
            z-index: 1; 
        }
        
        /* Canvas Containers */
        #dither-waves-container, #shape-blur-container {
            z-index: 0;
        }
        #dither-waves-container { opacity: 0.6; }
        
        canvas {
            width: 100% !important;
            height: 100% !important;
            display: block;
        }

        /* --- MAC DOCK STYLES (Hidden on Mobile) --- */
        .dock-wrapper {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
        }
        
        .dock-container {
            display: flex;
            align-items: flex-end;
            padding: 8px 12px;
            gap: 10px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(12px);
            height: 56px; 
            margin-bottom: 2px;
        }

        .dock-item {
            width: 40px;
            height: 40px;
            background: #1d1d1f;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #86868b;
            font-size: 18px;
            position: relative;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
            flex-shrink: 0;
            border: 1px solid rgba(255,255,255,0.05);
        }

        .dock-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border-color: rgba(255,255,255,0.2);
        }

        .dock-label {
            position: absolute;
            top: 130%;
            left: 50%;
            transform: translateX(-50%) translateY(5px);
            background: rgba(0, 0, 0, 0.8);
            color: #f5f5f7;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 500;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s, transform 0.2s;
            white-space: nowrap;
            border: 1px solid rgba(255,255,255,0.1);
            z-index: 10;
        }

        .dock-item:hover .dock-label {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* --- MOBILE MENU OVERLAY --- */
        #mobile-menu-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.95);
            backdrop-filter: blur(10px);
            z-index: 100;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        #mobile-menu-overlay.open {
            opacity: 1;
            pointer-events: auto;
        }
        .mobile-link {
            font-size: 2rem;
            font-weight: 600;
            color: white;
            margin: 1rem 0;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }
        #mobile-menu-overlay.open .mobile-link {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- CURVED MARQUEE STYLES --- */
        .curved-loop-jacket {
            position: relative;
            width: 100%;
            height: 150px; /* Smaller height for mobile */
            overflow: hidden;
            user-select: none;
            touch-action: none;
            background: transparent;
            mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
            -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
            margin-top: -30px;
            margin-bottom: 20px;
            z-index: 20;
        }
        
        @media(min-width: 768px) {
            .curved-loop-jacket {
                height: 220px;
                margin-top: -60px;
            }
        }

        .curved-loop-svg {
            width: 100%;
            height: 100%;
            display: block;
            pointer-events: none; 
        }

        .curved-loop-text {
            fill: #2997ff;
            font-size: 20px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 4px;
            font-family: 'Inter', sans-serif;
            opacity: 0.8;
            transition: fill 0.3s ease;
        }

        /* --- LOGO LOOP STYLES --- */
        .logoloop {
            position: relative;
            overflow: hidden;
            display: flex;
            width: 100%;
            mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
            -webkit-mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
        }
        
        .logoloop__track {
            display: flex;
            white-space: nowrap;
            will-change: transform;
        }
        
        .logoloop__list {
            display: flex;
            gap: 40px; 
            padding: 0;
            margin: 0;
            list-style: none;
            flex-shrink: 0;
            padding-right: 40px; 
        }
        
        @media(min-width: 768px) {
            .logoloop__list { gap: 64px; padding-right: 64px; }
        }
        
        .logoloop__item {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 48px; 
        }
        
        .logoloop__item i {
            font-size: 24px;
            color: #555;
            transition: all 0.3s ease;
        }
        
        .logoloop__item span {
            font-size: 16px;
            font-weight: 600;
            color: #666;
            margin-left: 10px;
            transition: color 0.3s ease;
        }

        .logoloop:hover .logoloop__item i { color: #2997ff; transform: scale(1.1); }
        .logoloop:hover .logoloop__item span { color: #fff; }

        /* --- GLASS SURFACE --- */
        .glass-surface {
            position: relative;
            background: rgba(30, 30, 35, 0.6); 
            width: 100%;
        }
        .glass-surface__filter {
            position: absolute; width: 0; height: 0; pointer-events: none; opacity: 0; 
        }
        .glass-surface__content {
            position: relative; z-index: 2; width: 100%;
        }

        /* --- CARD SWAP STYLES --- */
        .card-swap-wrapper {
            perspective: 1000px;
            transform-style: preserve-3d;
            height: 420px; 
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: visible; 
        }
        
        .card-swap-container {
            position: relative;
            width: 280px; /* Default mobile width */
            height: 360px;
        }
        
        @media(min-width: 768px) {
            .card-swap-container {
                width: 300px;
                height: 380px;
            }
        }
        
        .swap-card {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1d1d1f 0%, #161617 100%);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 24px;
            padding: 24px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            transform-style: preserve-3d;
            will-change: transform, opacity;
        }

        .swap-card h4 { font-size: 1.5rem; font-weight: 700; color: #fff; margin-bottom: 1rem; }
        .swap-card p { color: #86868b; font-size: 1rem; line-height: 1.6; }
        .swap-card i { font-size: 3rem; margin-bottom: 1.5rem; -webkit-background-clip: text; -webkit-text-fill-color: transparent; background: linear-gradient(135deg, #2997ff 0%, #0071e3 100%); }

        /* --- SHAPE BLUR --- */
        #shape-blur-container {
            width: 100%; height: 100%; position: absolute; top: 0; left: 0; pointer-events: auto;
        }
    </style>
</head>
<body class="antialiased">

    <!-- MOBILE MENU OVERLAY -->
    <div id="mobile-menu-overlay">
        <a href="#" class="mobile-link" onclick="toggleMobileMenu()">Home</a>
        <a href="#problem" class="mobile-link" onclick="toggleMobileMenu()">Problem</a>
        <a href="#adaptive" class="mobile-link" onclick="toggleMobileMenu()">Adaptive</a>
        <a href="#solution" class="mobile-link" onclick="toggleMobileMenu()">Solution</a>
        <a href="#usecases" class="mobile-link" onclick="toggleMobileMenu()">Use Cases</a>
        <a href="#pricing" class="mobile-link" onclick="toggleMobileMenu()">Pricing</a>
        <button class="mt-8 text-apple-lightGray hover:text-white" onclick="toggleMobileMenu()">
            <i class="fa-solid fa-xmark text-3xl"></i>
        </button>
    </div>

    <!-- NAVIGATION -->
    <nav class="fixed w-full z-50 glass-nav transition-all duration-300">
        <div class="max-w-screen-xl mx-auto px-6">
            <div class="flex items-center justify-between h-20"> 
                <!-- Logo -->
                <div class="flex items-center gap-2 cursor-pointer w-32">
                    <i class="fa-solid fa-lock text-apple-text text-lg"></i>
                    <span class="font-semibold text-lg tracking-tight text-apple-text">FlowLock</span>
                </div>
                
                <!-- DOCK NAVIGATION (Desktop Only) -->
                <div class="dock-wrapper hidden md:flex">
                    <div class="dock-container" id="nav-dock">
                        <a href="#problem" class="dock-item" aria-label="Problem">
                            <i class="fa-solid fa-triangle-exclamation"></i>
                            <span class="dock-label">Problem</span>
                        </a>
                        <a href="#adaptive" class="dock-item" aria-label="Adaptive">
                            <i class="fa-solid fa-circle-nodes"></i>
                            <span class="dock-label">Adaptive</span>
                        </a>
                        <a href="#solution" class="dock-item" aria-label="Solution">
                            <i class="fa-solid fa-lightbulb"></i>
                            <span class="dock-label">Solution</span>
                        </a>
                        <a href="#tech" class="dock-item" aria-label="Tech">
                            <i class="fa-solid fa-microchip"></i>
                            <span class="dock-label">Tech</span>
                        </a>
                        <a href="#usecases" class="dock-item" aria-label="Use Cases">
                            <i class="fa-solid fa-layer-group"></i>
                            <span class="dock-label">Use Cases</span>
                        </a>
                        <a href="#pricing" class="dock-item" aria-label="Pricing">
                            <i class="fa-solid fa-tag"></i>
                            <span class="dock-label">Pricing</span>
                        </a>
                        <a href="#faq" class="dock-item" aria-label="Q&A">
                            <i class="fa-solid fa-circle-question"></i>
                            <span class="dock-label">Q&A</span>
                        </a>
                    </div>
                </div>
                
                <!-- Mobile menu Toggle -->
                <div class="md:hidden text-apple-text w-32 flex justify-end">
                    <button onclick="toggleMobileMenu()" aria-label="Open Menu">
                        <i class="fa-solid fa-bars text-xl"></i>
                    </button>
                </div>
                
                <!-- Spacer -->
                <div class="hidden md:block w-32"></div>
            </div>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section class="relative pt-28 pb-20 md:pt-48 md:pb-32 overflow-hidden bg-glow-gradient">
        <div id="dither-waves-container" class="absolute inset-0 w-full h-full"></div>
        <div class="absolute inset-0 bg-chroma-grid chroma-grid-overlay pointer-events-none opacity-50 animate-pulse-slow"></div>

        <div class="max-w-screen-xl mx-auto px-6 text-center relative z-10">
            
            <div class="opacity-0 animate-[fadeUp_1s_ease-out_forwards]">
                <h2 class="text-apple-blue font-semibold text-base md:text-xl mb-4 tracking-wide">Behavior Over Identity</h2>
                
                <h1 class="text-4xl md:text-7xl lg:text-8xl font-bold tracking-tight mb-6 text-white leading-tight">
                    Stop API Abuse. <br />
                    <span class="text-gradient">By Watching the Flow.</span>
                </h1>
                
                <p class="mt-6 max-w-2xl mx-auto text-lg md:text-2xl text-apple-lightGray font-medium leading-relaxed">
                    Attackers can rotate IPs and keys, but they can't fake human behavior. We detect the patterns they can't hide.
                </p>
                
                <div class="mt-10 flex items-center justify-center gap-6">
                    <a href="#solution" class="bg-apple-blue hover:bg-apple-blueHover text-white px-8 py-3 rounded-full font-medium text-lg transition-all transform hover:scale-105 shadow-lg shadow-blue-500/30">
                        See How It Works
                    </a>
                    <a href="#problem" class="text-apple-blue hover:underline text-lg font-medium flex items-center gap-2 group">
                        Why Rate Limits Fail <i class="fa-solid fa-chevron-right text-sm group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>
            </div>

            <div class="mt-16 md:mt-20 relative max-w-5xl mx-auto animate-float opacity-0 animate-[fadeUp_1.5s_ease-out_0.5s_forwards]">
                <div id="glass-hero-card" class="glass-surface rounded-3xl shadow-2xl">
                    <div class="glass-surface__content p-1"> 
                        <div class="rounded-[20px] overflow-hidden bg-black/40 aspect-video relative flex items-center justify-center border border-white/5">
                            <div class="absolute inset-0 bg-gradient-to-tr from-black/60 via-transparent to-black/60"></div>
                            
                            <div class="relative z-10 w-full max-w-lg mx-auto p-4 md:p-6">
                                 <div class="flex justify-between items-center mb-8 border-b border-white/10 pb-4">
                                    <div class="text-left">
                                        <div class="text-[10px] md:text-xs text-apple-lightGray uppercase">Monitoring Session</div>
                                        <div class="text-white font-mono text-sm md:text-base">ID: 8x92-mk12</div>
                                    </div>
                                    <div class="px-3 py-1 rounded-full bg-green-500/20 text-green-400 text-[10px] md:text-xs font-bold border border-green-500/30 animate-pulse">
                                        LIVE
                                    </div>
                                 </div>
                                 
                                 <div class="grid grid-cols-3 gap-2 md:gap-4 text-center">
                                     <div class="p-2 md:p-4 bg-white/5 rounded-xl border border-white/5">
                                         <div class="text-lg md:text-2xl font-bold text-white mb-1">24ms</div>
                                         <div class="text-[8px] md:text-[10px] text-apple-lightGray uppercase">Time Gap</div>
                                     </div>
                                     <div class="p-2 md:p-4 bg-white/5 rounded-xl border border-white/5">
                                         <div class="text-lg md:text-2xl font-bold text-apple-blue mb-1">/login</div>
                                         <div class="text-[8px] md:text-[10px] text-apple-lightGray uppercase">Sequence</div>
                                     </div>
                                     <div class="p-2 md:p-4 bg-red-500/10 rounded-xl border border-red-500/30">
                                         <div class="text-lg md:text-2xl font-bold text-red-500 mb-1">85</div>
                                         <div class="text-[8px] md:text-[10px] text-red-400 uppercase">Risk Score</div>
                                     </div>
                                 </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CURVED MARQUEE LOOP -->
    <div id="curved-marquee-container"></div>

    <!-- THE PROBLEM -->
    <section id="problem" class="py-24 md:py-32 bg-black border-y border-white/10">
        <div class="max-w-screen-xl mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 md:gap-16 items-center">
                <div>
                    <h2 class="text-sm font-semibold text-apple-blue uppercase mb-2 tracking-widest">The Challenge</h2>
                    <h3 class="text-3xl md:text-5xl font-bold text-white mb-6 leading-tight">
                        Static Limits are <br>
                        <span class="text-apple-lightGray">Built to Fail.</span>
                    </h3>
                    <p class="text-lg text-apple-lightGray mb-6 leading-relaxed">
                        Traditional security asks, "How many requests?" and blocks based on IP. But attackers adapt. They use:
                    </p>
                    <ul class="space-y-4">
                        <li class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full bg-[#1d1d1f] border border-white/10 flex items-center justify-center shrink-0">
                                <i class="fa-solid fa-globe text-apple-text"></i>
                            </div>
                            <div>
                                <h4 class="text-white font-semibold">IP Rotation</h4>
                                <p class="text-apple-lightGray text-sm">VPNs and proxies make one attacker look like thousands of users.</p>
                            </div>
                        </li>
                        <li class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full bg-[#1d1d1f] border border-white/10 flex items-center justify-center shrink-0">
                                <i class="fa-solid fa-robot text-apple-text"></i>
                            </div>
                            <div>
                                <h4 class="text-white font-semibold">Distributed Bots</h4>
                                <p class="text-apple-lightGray text-sm">Low-volume attacks spread across many IPs bypass "X requests/minute" rules.</p>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="relative mt-8 md:mt-0">
                    <div class="absolute inset-0 bg-gradient-to-r from-apple-blue/10 to-transparent rounded-full blur-3xl"></div>
                    <div class="bento-card p-6 md:p-8 relative overflow-hidden">
                        <div class="text-center mb-8">
                             <h4 class="text-apple-lightGray uppercase text-xs tracking-widest mb-2">Real World Impact</h4>
                        </div>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between p-4 bg-black/40 rounded-xl border border-white/5">
                                <div class="flex items-center gap-3">
                                    <i class="fa-solid fa-user text-green-500"></i>
                                    <span class="text-apple-lightGray text-xs md:text-sm">High-Volume User</span>
                                </div>
                                <span class="text-red-500 font-bold text-[10px] md:text-xs border border-red-500/30 px-2 py-1 rounded">BLOCKED</span>
                            </div>
                            <div class="flex items-center justify-between p-4 bg-black/40 rounded-xl border border-white/5">
                                <div class="flex items-center gap-3">
                                    <i class="fa-solid fa-user-secret text-red-500"></i>
                                    <span class="text-apple-lightGray text-xs md:text-sm">Attacker (Proxy)</span>
                                </div>
                                <span class="text-green-500 font-bold text-[10px] md:text-xs border border-green-500/30 px-2 py-1 rounded">BYPASSED</span>
                            </div>
                        </div>
                        <p class="text-center text-xs text-apple-lightGray mt-6 italic">Current systems punish the wrong people.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- NEW SHAPE BLUR SECTION (Adaptive Defense) -->
    <section id="adaptive" class="py-24 bg-[#0a0a0a] border-b border-white/5 relative overflow-hidden h-[400px] md:h-[500px]">
        <!-- Canvas Container -->
        <div id="shape-blur-container" class="absolute inset-0 z-0"></div>
        
        <div class="max-w-screen-xl mx-auto px-6 relative z-10 flex h-full items-center justify-center pointer-events-none">
            <div class="text-center bg-black/40 backdrop-blur-md p-6 md:p-10 rounded-3xl border border-white/10 max-w-2xl">
                <h2 class="text-3xl md:text-5xl font-bold text-white mb-4">Adaptive Defense</h2>
                <p class="text-lg md:text-xl text-apple-lightGray">
                    Security that morphs in real-time. Our system continuously adapts its shape to fit the threat landscape.
                </p>
                <div class="mt-6 text-xs md:text-sm text-apple-blue font-semibold animate-pulse hidden md:block">
                    <i class="fa-solid fa-mouse-pointer"></i> Move your mouse to interact with the shield
                </div>
            </div>
        </div>
    </section>

    <!-- SOLUTION / HOW IT WORKS -->
    <section id="solution" class="py-24 md:py-32 bg-[#000000]">
        <div class="max-w-screen-xl mx-auto px-6">
            <div class="text-center mb-16 md:mb-20">
                <h2 class="text-3xl md:text-6xl font-bold text-white mb-6 tracking-tight">
                    The FlowLock Approach
                </h2>
                <p class="text-lg md:text-xl text-apple-lightGray max-w-2xl mx-auto">
                    We don't ask "How many?". We ask "How?". <br>
                    Our system analyzes behavior in three stages.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Stage 1 -->
                <div class="bento-card p-8 md:p-10 flex flex-col relative overflow-hidden group">
                    <div class="w-12 h-12 rounded-full bg-[#1d1d1f] flex items-center justify-center mb-6 border border-white/10 text-white font-bold text-lg">1</div>
                    <h3 class="text-2xl font-bold text-white mb-3">Monitor</h3>
                    <p class="text-apple-lightGray leading-relaxed mb-4 text-sm">
                        We log behavioral signals in real-time, independent of IP address.
                    </p>
                    <ul class="text-sm text-apple-lightGray space-y-2 pt-4 border-t border-white/5">
                        <li class="flex gap-2 items-center"><i class="fa-solid fa-clock text-apple-blue"></i> Inter-request timing</li>
                        <li class="flex gap-2 items-center"><i class="fa-solid fa-layer-group text-apple-blue"></i> Sequential Access</li>
                    </ul>
                </div>
                <!-- Stage 2 -->
                <div class="bento-card p-8 md:p-10 flex flex-col relative overflow-hidden group">
                    <div class="w-12 h-12 rounded-full bg-[#1d1d1f] flex items-center justify-center mb-6 border border-white/10 text-white font-bold text-lg">2</div>
                    <h3 class="text-2xl font-bold text-white mb-3">Analyze</h3>
                    <p class="text-apple-lightGray leading-relaxed mb-4 text-sm">
                        Our engine calculates a live <strong>Risk Score (0-100)</strong> for every session.
                    </p>
                    <div class="w-full bg-gray-800 rounded-full h-1 mt-4 mb-2">
                        <div class="bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 h-1 rounded-full w-full"></div>
                    </div>
                </div>
                <!-- Stage 3 -->
                <div class="bento-card p-8 md:p-10 flex flex-col relative overflow-hidden group">
                    <div class="w-12 h-12 rounded-full bg-[#1d1d1f] flex items-center justify-center mb-6 border border-white/10 text-white font-bold text-lg">3</div>
                    <h3 class="text-2xl font-bold text-white mb-3">Act</h3>
                    <p class="text-apple-lightGray leading-relaxed mb-4 text-sm">
                        Adaptive responses based on the score, ensuring zero friction.
                    </p>
                    <div class="space-y-2 mt-2 pt-4 border-t border-white/5">
                        <div class="text-xs text-apple-lightGray"><span class="text-green-500">●</span> Allow</div>
                        <div class="text-xs text-apple-lightGray"><span class="text-yellow-500">●</span> Throttle (Slow down)</div>
                        <div class="text-xs text-apple-lightGray"><span class="text-red-500">●</span> Block</div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- TECH STACK LOGO LOOP -->
    <section id="tech" class="py-16 bg-black border-b border-white/5">
        <div class="max-w-screen-xl mx-auto px-6 mb-8 text-center">
            <h3 class="text-sm font-semibold text-apple-lightGray uppercase tracking-widest mb-4">Powered By Modern Stack</h3>
        </div>
        <div id="logo-loop-container"></div>
    </section>

    <!-- CARD SWAP USE CASES -->
    <section id="usecases" class="py-24 md:py-32 bg-[#161617] border-y border-white/5 relative overflow-hidden">
        <div class="absolute top-0 right-0 w-1/3 h-full bg-gradient-to-l from-black/50 to-transparent pointer-events-none"></div>
        <div class="max-w-screen-xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
            <div class="order-2 md:order-1 flex justify-center w-full">
                <div class="card-swap-wrapper w-full flex justify-center">
                    <div id="card-swap-container" class="card-swap-container"></div>
                </div>
            </div>
            <div class="order-1 md:order-2">
                <h2 class="text-3xl md:text-5xl font-bold text-white mb-6">Built for Every Threat</h2>
                <p class="text-apple-lightGray text-lg mb-8 leading-relaxed">
                    FlowLock adapts to diverse attack vectors across industries. From credential stuffing in Fintech to data scraping in E-commerce, we stop the abuse that traditional firewalls miss.
                </p>
                <div class="flex flex-col gap-4">
                    <div class="flex items-center gap-4 p-4 rounded-xl bg-black/30 border border-white/5 hover:border-apple-blue/30 transition">
                        <div class="w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center text-apple-blue">
                            <i class="fa-solid fa-shield-halved"></i>
                        </div>
                        <div>
                            <h4 class="text-white font-medium">Fintech Security</h4>
                            <p class="text-sm text-gray-500">Stop credential stuffing & ATOs</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-4 p-4 rounded-xl bg-black/30 border border-white/5 hover:border-apple-blue/30 transition">
                        <div class="w-10 h-10 rounded-full bg-purple-500/10 flex items-center justify-center text-purple-400">
                            <i class="fa-solid fa-cart-shopping"></i>
                        </div>
                        <div>
                            <h4 class="text-white font-medium">E-Commerce Protection</h4>
                            <p class="text-sm text-gray-500">Prevent price scraping & inventory hoarding</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- PRICING SECTION -->
    <section id="pricing" class="py-24 md:py-32 bg-black">
        <div class="max-w-screen-xl mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold text-white mb-4">Pricing</h2>
                <p class="text-xl text-apple-lightGray">Simple plans. Serious security.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <!-- Developer -->
                <div class="bento-card p-8 flex flex-col">
                    <h3 class="text-lg font-semibold text-white mb-2">Developer</h3>
                    <div class="text-3xl font-bold text-white mb-6">Free</div>
                    <p class="text-sm text-apple-lightGray mb-6">Perfect for hackathons and prototypes.</p>
                    <ul class="space-y-4 mb-8 text-apple-lightGray text-sm flex-1">
                        <li class="flex gap-3"><i class="fa-solid fa-check text-white"></i> 10k Requests/mo</li>
                        <li class="flex gap-3"><i class="fa-solid fa-check text-white"></i> Basic Scoring</li>
                        <li class="flex gap-3"><i class="fa-solid fa-check text-white"></i> Community Support</li>
                    </ul>
                    <a href="#" class="block w-full py-3 bg-[#333] hover:bg-[#444] text-white text-center rounded-full text-sm font-medium transition-colors">Get Started</a>
                </div>

                <!-- Pro -->
                <div class="bento-card p-8 relative transform md:-translate-y-4 shadow-2xl shadow-blue-900/10 border-apple-blue/50">
                    <div class="absolute -top-3 left-0 right-0 flex justify-center">
                        <span class="bg-apple-blue text-white text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-wider">Most Popular</span>
                    </div>
                    <h3 class="text-lg font-semibold text-white mb-2">Startup</h3>
                    <div class="text-3xl font-bold text-white mb-6">$49<span class="text-lg font-normal text-apple-lightGray">/mo</span></div>
                    <p class="text-sm text-apple-lightGray mb-6">For growing applications needing real protection.</p>
                    <ul class="space-y-4 mb-8 text-white text-sm font-medium flex-1">
                        <li class="flex gap-3"><i class="fa-solid fa-check text-apple-blue"></i> 1M Requests/mo</li>
                        <li class="flex gap-3"><i class="fa-solid fa-check text-apple-blue"></i> Advanced Throttling</li>
                        <li class="flex gap-3"><i class="fa-solid fa-check text-apple-blue"></i> Real-time Dashboard</li>
                    </ul>
                    <a href="#" class="block w-full py-3 bg-apple-blue hover:bg-apple-blueHover text-white text-center rounded-full text-sm font-medium transition-colors">Start Free Trial</a>
                </div>

                <!-- Enterprise -->
                <div class="bento-card p-8 flex flex-col">
                    <h3 class="text-lg font-semibold text-white mb-2">Enterprise</h3>
                    <div class="text-3xl font-bold text-white mb-6">Custom</div>
                    <p class="text-sm text-apple-lightGray mb-6">For high-scale fintech & SaaS platforms.</p>
                    <ul class="space-y-4 mb-8 text-apple-lightGray text-sm flex-1">
                        <li class="flex gap-3"><i class="fa-solid fa-check text-white"></i> Unlimited Scale</li>
                        <li class="flex gap-3"><i class="fa-solid fa-check text-white"></i> Custom Rules Engine</li>
                        <li class="flex gap-3"><i class="fa-solid fa-check text-white"></i> 24/7 Priority Support</li>
                    </ul>
                    <a href="#" class="block w-full py-3 bg-transparent border border-[#333] hover:bg-[#333] text-white text-center rounded-full text-sm font-medium transition-colors">Contact Sales</a>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ SECTION -->
    <section id="faq" class="py-24 bg-[#161617]">
        <div class="max-w-3xl mx-auto px-6">
            <h2 class="text-3xl font-bold text-white mb-12 text-center">Questions & Answers</h2>
            
            <div class="space-y-4">
                <div class="p-6 bg-black rounded-2xl border border-white/5">
                    <h3 class="text-white font-medium mb-2">How does behavior analysis work?</h3>
                    <p class="text-sm text-apple-lightGray leading-relaxed">We analyze metadata like request timing variance, sequence entropy, and header consistency. Bots exhibit patterns—even when trying to be random—that are statistically distinct from humans.</p>
                </div>
                <div class="p-6 bg-black rounded-2xl border border-white/5">
                    <h3 class="text-white font-medium mb-2">Will this block legitimate users?</h3>
                    <p class="text-sm text-apple-lightGray leading-relaxed">No. Our scoring system is granular. Instead of blocking immediately, we apply "invisible throttling" (artificial latency) to suspicious traffic first, ensuring real users are never impacted by false positives.</p>
                </div>
                <div class="p-6 bg-black rounded-2xl border border-white/5">
                    <h3 class="text-white font-medium mb-2">Is it hard to integrate?</h3>
                    <p class="text-sm text-apple-lightGray leading-relaxed">Minimal effort required. FlowLock works as a standard middleware for Python (FastAPI/Django) or Node.js. It typically takes less than 15 minutes to deploy.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="bg-[#1d1d1f] py-16 text-xs border-t border-white/10">
        <div class="max-w-screen-xl mx-auto px-6">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-12">
                <div class="col-span-2 md:col-span-1">
                    <div class="flex items-center gap-2 mb-4">
                        <i class="fa-solid fa-lock text-white"></i>
                        <span class="font-semibold text-white text-base">FlowLock</span>
                    </div>
                    <p class="text-apple-lightGray leading-relaxed max-w-xs">
                        Solving real-world API abuse through behavioral intelligence. <br>
                        Team VEGABOND Project.
                    </p>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-4">Product</h4>
                    <ul class="space-y-3 text-apple-lightGray">
                        <li><a href="#" class="hover:text-white transition-colors">Features</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Security</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Integrations</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Changelog</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-4">Resources</h4>
                    <ul class="space-y-3 text-apple-lightGray">
                        <li><a href="#" class="hover:text-white transition-colors">Documentation</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">API Reference</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Community</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Blog</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-4">Legal</h4>
                    <ul class="space-y-3 text-apple-lightGray">
                        <li><a href="#" class="hover:text-white transition-colors">Privacy Policy</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-apple-lightGray">Copyright © 2026 FlowLock Inc. All rights reserved.</p>
                <div class="flex gap-6">
                    <a href="#" class="text-apple-lightGray hover:text-white transition-colors"><i class="fa-brands fa-github text-lg"></i></a>
                    <a href="#" class="text-apple-lightGray hover:text-white transition-colors"><i class="fa-brands fa-twitter text-lg"></i></a>
                    <a href="#" class="text-apple-lightGray hover:text-white transition-colors"><i class="fa-brands fa-linkedin text-lg"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <!-- LOGIC SCRIPTS -->
    <script>
        // MOBILE MENU LOGIC
        function toggleMobileMenu() {
            const overlay = document.getElementById('mobile-menu-overlay');
            if (overlay) {
                overlay.classList.toggle('open');
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            initDock();
            initCurvedLoop('curved-marquee-container', {
                text: ' • FLOWLOCK • BEHAVIOR OVER IDENTITY • STOP API ABUSE • ZERO FRICTION SECURITY',
                speed: 1, 
                curveAmount: 80 
            });
            initDitherWaves('dither-waves-container');
            
            // --- 5. LOGO LOOP (Tech Stack) ---
            initLogoLoop('logo-loop-container', {
                direction: 'left',
                speed: 100,
                hoverSpeed: 0 // Brake on hover
            });

            // --- 6. GLASS SURFACE (Hero Card) ---
            initGlassSurface('glass-hero-card');

            // --- 7. CARD SWAP (Use Cases) ---
            initCardSwap('card-swap-container');

            // --- 8. SHAPE BLUR (Adaptive Defense) ---
            initShapeBlur('shape-blur-container');
        });

        // [Previous initDock, initCurvedLoop, initDitherWaves, initLogoLoop, initGlassSurface functions kept as is...]
        function initDock() {
            const dock = document.getElementById('nav-dock');
            if(!dock) return;
            const items = dock.querySelectorAll('.dock-item');
            const baseWidth = 40;     
            const maxMagnification = 1.6; 
            const influenceDistance = 150; 
            
            dock.addEventListener('mousemove', (e) => {
                const mouseX = e.clientX;
                items.forEach(item => {
                    const rect = item.getBoundingClientRect();
                    const itemCenterX = rect.left + rect.width / 2;
                    const distance = Math.abs(mouseX - itemCenterX);
                    let scale = 1;
                    if (distance < influenceDistance) {
                        const intensity = 1 - (distance / influenceDistance);
                        scale = 1 + (maxMagnification - 1) * Math.sin(intensity * Math.PI / 2);
                    }
                    const size = baseWidth * scale;
                    item.style.width = `${size}px`;
                    item.style.height = `${size}px`;
                    item.style.fontSize = `${18 * scale}px`;
                });
            });
            
            dock.addEventListener('mouseleave', () => {
                items.forEach(item => {
                    item.style.width = `${baseWidth}px`;
                    item.style.height = `${baseWidth}px`;
                    item.style.fontSize = `18px`;
                });
            });
        }

        function initCurvedLoop(containerId, { text, speed = 2, curveAmount = 400, interactive = true }) {
            const container = document.getElementById(containerId);
            if (!container) return;
            const hasTrailing = /\s|\u00A0$/.test(text);
            const cleanText = (hasTrailing ? text.replace(/\s+$/, '') : text) + '\u00A0';
            container.classList.add('curved-loop-jacket');
            const svgNS = "http://www.w3.org/2000/svg";
            const svg = document.createElementNS(svgNS, "svg");
            svg.classList.add('curved-loop-svg');
            svg.setAttribute('viewBox', '0 0 1440 300'); 
            const pathId = 'curve-' + Math.random().toString(36).substr(2, 9);
            const pathD = `M-100,40 Q500,${40 + curveAmount} 1540,40`;
            const defs = document.createElementNS(svgNS, "defs");
            const path = document.createElementNS(svgNS, "path");
            path.setAttribute('id', pathId);
            path.setAttribute('d', pathD);
            path.setAttribute('fill', 'none');
            defs.appendChild(path);
            svg.appendChild(defs);
            const measureText = document.createElementNS(svgNS, "text");
            measureText.textContent = cleanText;
            measureText.setAttribute('class', 'curved-loop-text');
            measureText.style.visibility = 'hidden';
            measureText.style.opacity = '0';
            measureText.style.position = 'absolute';
            svg.appendChild(measureText);
            container.appendChild(svg);
            requestAnimationFrame(() => {
                const spacing = measureText.getComputedTextLength();
                if (!spacing) return;
                const totalCopies = Math.ceil(1800 / spacing) + 2;
                const totalTextStr = new Array(totalCopies).fill(cleanText).join('');
                const visibleTextGroup = document.createElementNS(svgNS, "text");
                visibleTextGroup.setAttribute('class', 'curved-loop-text');
                const textPath = document.createElementNS(svgNS, "textPath");
                textPath.setAttribute('href', `#${pathId}`);
                textPath.setAttribute('startOffset', -spacing + 'px');
                textPath.textContent = totalTextStr;
                visibleTextGroup.appendChild(textPath);
                svg.appendChild(visibleTextGroup);
                let offset = -spacing;
                let drag = false;
                let lastX = 0;
                let velocity = 0;
                let direction = 'left';
                const wrapPoint = spacing;
                function step() {
                    if (!drag) {
                        const delta = direction === 'right' ? speed : -speed;
                        let newOffset = offset + delta;
                        if (newOffset <= -wrapPoint) newOffset += wrapPoint;
                        if (newOffset > 0) newOffset -= wrapPoint;
                        offset = newOffset;
                        textPath.setAttribute('startOffset', offset + 'px');
                    }
                    requestAnimationFrame(step);
                }
                step();
                if (interactive) {
                    container.style.cursor = 'grab';
                    container.addEventListener('pointerdown', (e) => {
                        drag = true;
                        lastX = e.clientX;
                        velocity = 0;
                        container.style.cursor = 'grabbing';
                        container.setPointerCapture(e.pointerId);
                    });
                    container.addEventListener('pointermove', (e) => {
                        if (!drag) return;
                        const dx = e.clientX - lastX;
                        lastX = e.clientX;
                        velocity = dx;
                        let newOffset = offset + dx;
                        if (newOffset <= -wrapPoint) newOffset += wrapPoint;
                        if (newOffset > 0) newOffset -= wrapPoint;
                        offset = newOffset;
                        textPath.setAttribute('startOffset', offset + 'px');
                    });
                    const endDrag = () => {
                        if (drag) {
                            drag = false;
                            direction = velocity > 0 ? 'right' : 'left';
                            container.style.cursor = 'grab';
                        }
                    };
                    container.addEventListener('pointerup', endDrag);
                    container.addEventListener('pointerleave', endDrag);
                }
            });
        }

        function initDitherWaves(containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            // CLEANUP: Prevent context accumulation on re-runs
            while (container.firstChild) {
                container.removeChild(container.firstChild);
            }

            try {
                const waveVertexShader = `
                    varying vec2 vUv;
                    void main() {
                        vUv = uv;
                        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                    }
                `;
                const waveFragmentShader = `
                    precision highp float;
                    uniform vec2 resolution;
                    uniform float time;
                    uniform float waveSpeed;
                    uniform float waveFrequency;
                    uniform float waveAmplitude;
                    uniform vec3 waveColor;
                    uniform vec2 mousePos;
                    uniform int enableMouseInteraction;
                    uniform float mouseRadius;
                    vec4 mod289(vec4 x) { return x - floor(x * (1.0/289.0)) * 289.0; }
                    vec4 permute(vec4 x) { return mod289(((x * 34.0) + 1.0) * x); }
                    vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
                    vec2 fade(vec2 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
                    float cnoise(vec2 P) {
                        vec4 Pi = floor(P.xyxy) + vec4(0.0,0.0,1.0,1.0);
                        vec4 Pf = fract(P.xyxy) - vec4(0.0,0.0,1.0,1.0);
                        Pi = mod289(Pi);
                        vec4 ix = Pi.xzxz;
                        vec4 iy = Pi.yyww;
                        vec4 fx = Pf.xzxz;
                        vec4 fy = Pf.yyww;
                        vec4 i = permute(permute(ix) + iy);
                        vec4 gx = fract(i * (1.0/41.0)) * 2.0 - 1.0;
                        vec4 gy = abs(gx) - 0.5;
                        vec4 tx = floor(gx + 0.5);
                        gx = gx - tx;
                        vec2 g00 = vec2(gx.x, gy.x);
                        vec2 g10 = vec2(gx.y, gy.y);
                        vec2 g01 = vec2(gx.z, gy.z);
                        vec2 g11 = vec2(gx.w, gy.w);
                        vec4 norm = taylorInvSqrt(vec4(dot(g00,g00), dot(g01,g01), dot(g10,g10), dot(g11,g11)));
                        g00 *= norm.x; g01 *= norm.y; g10 *= norm.z; g11 *= norm.w;
                        float n00 = dot(g00, vec2(fx.x, fy.x));
                        float n10 = dot(g10, vec2(fx.y, fy.y));
                        float n01 = dot(g01, vec2(fx.z, fy.z));
                        float n11 = dot(g11, vec2(fx.w, fy.w));
                        vec2 fade_xy = fade(Pf.xy);
                        vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);
                        return 2.3 * mix(n_x.x, n_x.y, fade_xy.y);
                    }
                    const int OCTAVES = 4;
                    float fbm(vec2 p) {
                        float value = 0.0;
                        float amp = 1.0;
                        float freq = waveFrequency;
                        for (int i = 0; i < OCTAVES; i++) {
                            value += amp * abs(cnoise(p));
                            p *= freq;
                            amp *= waveAmplitude;
                        }
                        return value;
                    }
                    float pattern(vec2 p) {
                        vec2 p2 = p - time * waveSpeed;
                        return fbm(p + fbm(p2)); 
                    }
                    void main() {
                        vec2 uv = gl_FragCoord.xy / resolution.xy;
                        uv -= 0.5;
                        uv.x *= resolution.x / resolution.y;
                        float f = pattern(uv);
                        if (enableMouseInteraction == 1) {
                            vec2 mouseNDC = (mousePos / resolution - 0.5) * vec2(1.0, -1.0);
                            mouseNDC.x *= resolution.x / resolution.y;
                            float dist = length(uv - mouseNDC);
                            float effect = 1.0 - smoothstep(0.0, mouseRadius, dist);
                            f -= 0.5 * effect;
                        }
                        vec3 col = mix(vec3(0.0), waveColor, f);
                        gl_FragColor = vec4(col, 1.0);
                    }
                `;
                const ditherFragmentShader = `
                    precision highp float;
                    uniform float colorNum;
                    uniform float pixelSize;
                    uniform vec2 resolution;
                    uniform sampler2D tDiffuse;
                    varying vec2 vUv;
                    const float bayerMatrix8x8[64] = float[64](
                        0.0/64.0, 48.0/64.0, 12.0/64.0, 60.0/64.0,  3.0/64.0, 51.0/64.0, 15.0/64.0, 63.0/64.0,
                        32.0/64.0,16.0/64.0, 44.0/64.0, 28.0/64.0, 35.0/64.0,19.0/64.0, 47.0/64.0, 31.0/64.0,
                        8.0/64.0, 56.0/64.0,  4.0/64.0, 52.0/64.0, 11.0/64.0,59.0/64.0,  7.0/64.0, 55.0/64.0,
                        40.0/64.0,24.0/64.0, 36.0/64.0, 20.0/64.0, 43.0/64.0,27.0/64.0, 39.0/64.0, 23.0/64.0,
                        2.0/64.0, 50.0/64.0, 14.0/64.0, 62.0/64.0,  1.0/64.0,49.0/64.0, 13.0/64.0, 61.0/64.0,
                        34.0/64.0,18.0/64.0, 46.0/64.0, 30.0/64.0, 33.0/64.0,17.0/64.0, 45.0/64.0, 29.0/64.0,
                        10.0/64.0,58.0/64.0,  6.0/64.0, 54.0/64.0,  9.0/64.0,57.0/64.0,  5.0/64.0, 53.0/64.0,
                        42.0/64.0,26.0/64.0, 38.0/64.0, 22.0/64.0, 41.0/64.0,25.0/64.0, 37.0/64.0, 21.0/64.0
                    );
                    vec3 dither(vec2 uv, vec3 color) {
                        vec2 scaledCoord = floor(uv * resolution / pixelSize);
                        int x = int(mod(scaledCoord.x, 8.0));
                        int y = int(mod(scaledCoord.y, 8.0));
                        float threshold = bayerMatrix8x8[y * 8 + x] - 0.25;
                        float step = 1.0 / (colorNum - 1.0);
                        color += threshold * step;
                        float bias = 0.2;
                        color = clamp(color - bias, 0.0, 1.0);
                        return floor(color * (colorNum - 1.0) + 0.5) / (colorNum - 1.0);
                    }
                    void main() {
                        vec4 color = texture2D(tDiffuse, vUv);
                        color.rgb = dither(vUv, color.rgb);
                        gl_FragColor = color;
                    }
                `;
                const scene = new THREE.Scene();
                const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);
                const renderer = new THREE.WebGLRenderer({ alpha: true });
                renderer.setSize(container.clientWidth, container.clientHeight);
                container.appendChild(renderer.domElement);
                const waveUniforms = {
                    time: { value: 0 },
                    resolution: { value: new THREE.Vector2(container.clientWidth, container.clientHeight) },
                    waveSpeed: { value: 0.05 },
                    waveFrequency: { value: 3.0 },
                    waveAmplitude: { value: 0.3 },
                    waveColor: { value: new THREE.Color(0.2, 0.4, 0.8) }, 
                    mousePos: { value: new THREE.Vector2(0, 0) },
                    enableMouseInteraction: { value: 1 },
                    mouseRadius: { value: 1.0 }
                };
                const waveMaterial = new THREE.ShaderMaterial({
                    vertexShader: waveVertexShader,
                    fragmentShader: waveFragmentShader,
                    uniforms: waveUniforms
                });
                const plane = new THREE.Mesh(new THREE.PlaneGeometry(2, 2), waveMaterial);
                scene.add(plane);
                const renderTarget = new THREE.WebGLRenderTarget(
                    container.clientWidth, 
                    container.clientHeight, 
                    { minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter }
                );
                const postScene = new THREE.Scene();
                const postUniforms = {
                    tDiffuse: { value: null },
                    resolution: { value: new THREE.Vector2(container.clientWidth, container.clientHeight) },
                    pixelSize: { value: 4.0 }, 
                    colorNum: { value: 4.0 }
                };
                const postMaterial = new THREE.ShaderMaterial({
                    vertexShader: waveVertexShader,
                    fragmentShader: ditherFragmentShader,
                    uniforms: postUniforms
                });
                const postPlane = new THREE.Mesh(new THREE.PlaneGeometry(2, 2), postMaterial);
                postScene.add(postPlane);
                const mouse = new THREE.Vector2();
                container.addEventListener('mousemove', (e) => {
                    const rect = container.getBoundingClientRect();
                    mouse.x = e.clientX - rect.left;
                    mouse.y = e.clientY - rect.top;
                    waveUniforms.mousePos.value.copy(mouse);
                });
                const clock = new THREE.Clock();
                function animate() {
                    requestAnimationFrame(animate);
                    waveUniforms.time.value = clock.getElapsedTime();
                    renderer.setRenderTarget(renderTarget);
                    renderer.render(scene, camera);
                    renderer.setRenderTarget(null);
                    postUniforms.tDiffuse.value = renderTarget.texture;
                    renderer.render(postScene, camera);
                }
                animate();
                window.addEventListener('resize', () => {
                    const w = container.clientWidth;
                    const h = container.clientHeight;
                    renderer.setSize(w, h);
                    renderTarget.setSize(w, h);
                    waveUniforms.resolution.value.set(w, h);
                    postUniforms.resolution.value.set(w, h);
                });
            } catch (e) {
                console.error("WebGL Context Error in DitherWaves:", e);
            }
        }

        function initLogoLoop(containerId, { speed = 100, direction = 'left', hoverSpeed = 0 }) {
            const container = document.getElementById(containerId);
            if (!container) return;

            const items = [
                { icon: 'fa-brands fa-python', label: 'FastAPI' },
                { icon: 'fa-solid fa-server', label: 'Redis' },
                { icon: 'fa-brands fa-docker', label: 'Docker' },
                { icon: 'fa-brands fa-aws', label: 'AWS' },
                { icon: 'fa-brands fa-react', label: 'React' },
                { icon: 'fa-solid fa-shield-halved', label: 'WAF' },
                { icon: 'fa-solid fa-brain', label: 'TensorFlow' },
                { icon: 'fa-solid fa-database', label: 'Postgres' },
                { icon: 'fa-brands fa-cloudflare', label: 'Cloudflare' },
                { icon: 'fa-brands fa-linux', label: 'Linux' }
            ];

            container.classList.add('logoloop');
            const track = document.createElement('div');
            track.classList.add('logoloop__track');
            container.appendChild(track);

            function createList() {
                const ul = document.createElement('ul');
                ul.classList.add('logoloop__list');
                items.forEach(item => {
                    const li = document.createElement('li');
                    li.classList.add('logoloop__item');
                    li.innerHTML = `<i class="${item.icon}"></i><span>${item.label}</span>`;
                    ul.appendChild(li);
                });
                return ul;
            }

            const list1 = createList();
            track.appendChild(list1);

            let offset = 0;
            let velocity = 0;
            let lastTime = null;
            let isHovered = false;
            
            const SMOOTH_TAU = 0.25; 
            const targetSpeed = (direction === 'left' ? 1 : -1) * speed;

            requestAnimationFrame(() => {
                const listWidth = list1.offsetWidth;
                const viewportWidth = container.clientWidth;
                const copiesNeeded = Math.ceil(viewportWidth / listWidth) + 2;
                
                for(let i=1; i<copiesNeeded; i++) {
                    track.appendChild(createList());
                }

                function animate(timestamp) {
                    if (!lastTime) lastTime = timestamp;
                    const dt = Math.max(0, timestamp - lastTime) / 1000;
                    lastTime = timestamp;

                    const currentTarget = isHovered ? hoverSpeed : targetSpeed;
                    const alpha = 1.0 - Math.exp(-dt / SMOOTH_TAU); 
                    velocity += (currentTarget - velocity) * alpha;

                    offset += velocity * dt;

                    if (offset >= listWidth) offset -= listWidth;
                    if (offset < 0) offset += listWidth;

                    track.style.transform = `translate3d(${-offset}px, 0, 0)`;
                    
                    requestAnimationFrame(animate);
                }
                requestAnimationFrame(animate);

                container.addEventListener('mouseenter', () => isHovered = true);
                container.addEventListener('mouseleave', () => isHovered = false);
            });
        }

        function initGlassSurface(targetId, options = {}) {
            const element = document.getElementById(targetId);
            if (!element) return;

            const config = {
                borderRadius: 20,
                borderWidth: 0.07, 
                brightness: 50,
                opacity: 0.93,
                blur: 11,
                distortionScale: -180,
                redOffset: 0,
                greenOffset: 10,
                blueOffset: 20,
                xChannel: 'R',
                yChannel: 'G',
                mixBlendMode: 'difference',
                ...options
            };

            const uid = Math.random().toString(36).substr(2, 9);
            const filterId = `glass-filter-${uid}`;
            const redGradId = `red-grad-${uid}`;
            const blueGradId = `blue-grad-${uid}`;
            
            const svgNS = "http://www.w3.org/2000/svg";
            const filterSvg = document.createElementNS(svgNS, "svg");
            filterSvg.classList.add("glass-surface__filter");
            filterSvg.innerHTML = `
                <defs>
                    <filter id="${filterId}" color-interpolation-filters="sRGB" x="0%" y="0%" width="100%" height="100%">
                        <feImage id="feImage-${uid}" x="0" y="0" width="100%" height="100%" preserveAspectRatio="none" result="map" />
                        
                        <feDisplacementMap in="SourceGraphic" in2="map" id="redchannel-${uid}" scale="${config.distortionScale + config.redOffset}" xChannelSelector="${config.xChannel}" yChannelSelector="${config.yChannel}" result="dispRed" />
                        <feColorMatrix in="dispRed" type="matrix" values="1 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 0" result="red" />

                        <feDisplacementMap in="SourceGraphic" in2="map" id="greenchannel-${uid}" scale="${config.distortionScale + config.greenOffset}" xChannelSelector="${config.xChannel}" yChannelSelector="${config.yChannel}" result="dispGreen" />
                        <feColorMatrix in="dispGreen" type="matrix" values="0 0 0 0 0  0 1 0 0 0  0 0 0 0 0  0 0 0 1 0" result="green" />

                        <feDisplacementMap in="SourceGraphic" in2="map" id="bluechannel-${uid}" scale="${config.distortionScale + config.blueOffset}" xChannelSelector="${config.xChannel}" yChannelSelector="${config.yChannel}" result="dispBlue" />
                        <feColorMatrix in="dispBlue" type="matrix" values="0 0 0 0 0  0 0 0 0 0  0 0 1 0 0  0 0 0 1 0" result="blue" />

                        <feBlend in="red" in2="green" mode="screen" result="rg" />
                        <feBlend in="rg" in2="blue" mode="screen" result="output" />
                        <feGaussianBlur in="output" stdDeviation="0.7" />
                    </filter>
                </defs>
            `;
            element.appendChild(filterSvg);

            const feImage = filterSvg.querySelector(`#feImage-${uid}`);

            function generateDisplacementMap(width, height) {
                const actualWidth = width || 400;
                const actualHeight = height || 200;
                const edgeSize = Math.min(actualWidth, actualHeight) * (config.borderWidth * 0.5);

                const svgContent = `
                    <svg viewBox="0 0 ${actualWidth} ${actualHeight}" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="${redGradId}" x1="100%" y1="0%" x2="0%" y2="0%">
                                <stop offset="0%" stop-color="#0000"/>
                                <stop offset="100%" stop-color="red"/>
                            </linearGradient>
                            <linearGradient id="${blueGradId}" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" stop-color="#0000"/>
                                <stop offset="100%" stop-color="blue"/>
                            </linearGradient>
                        </defs>
                        <rect x="0" y="0" width="${actualWidth}" height="${actualHeight}" fill="black"></rect>
                        <rect x="0" y="0" width="${actualWidth}" height="${actualHeight}" rx="${config.borderRadius}" fill="url(#${redGradId})" />
                        <rect x="0" y="0" width="${actualWidth}" height="${actualHeight}" rx="${config.borderRadius}" fill="url(#${blueGradId})" style="mix-blend-mode: ${config.mixBlendMode}" />
                        <rect x="${edgeSize}" y="${edgeSize}" width="${actualWidth - edgeSize * 2}" height="${actualHeight - edgeSize * 2}" rx="${config.borderRadius}" fill="hsl(0 0% ${config.brightness}% / ${config.opacity})" style="filter:blur(${config.blur}px)" />
                    </svg>
                `;
                return `data:image/svg+xml,${encodeURIComponent(svgContent)}`;
            }

            function update() {
                const rect = element.getBoundingClientRect();
                if(rect.width === 0 || rect.height === 0) return;
                
                const mapUrl = generateDisplacementMap(rect.width, rect.height);
                feImage.setAttribute('href', mapUrl);
            }

            element.style.backdropFilter = `url(#${filterId})`;
            
            const resizeObserver = new ResizeObserver(() => {
                requestAnimationFrame(update);
            });
            resizeObserver.observe(element);
            
            update();
        }

        // ==========================================
        // CARD SWAP LOGIC (Vanilla JS + GSAP)
        // ==========================================
        function initCardSwap(containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;

            const cardsData = [
                { title: 'Fintech', desc: 'Prevent credential stuffing & ATOs.', icon: 'fa-solid fa-shield-halved' },
                { title: 'E-Commerce', desc: 'Stop price scraping & hoarding.', icon: 'fa-solid fa-cart-shopping' },
                { title: 'SaaS', desc: 'Block abusive API consumption.', icon: 'fa-solid fa-server' },
                { title: 'Gaming', desc: 'Detect bot-driven farming.', icon: 'fa-solid fa-gamepad' },
                { title: 'Public Data', desc: 'Secure open data endpoints.', icon: 'fa-solid fa-database' }
            ];

            // RESPONSIVE CONFIG
            const isMobile = window.innerWidth < 768;
            const width = isMobile ? 260 : 300;
            const height = isMobile ? 340 : 380; 
            const cardDistance = isMobile ? 10 : 15;
            const verticalDistance = isMobile ? 8 : 10; 
            const delay = 4000;
            const config = {
                ease: "elastic.out(0.6, 0.9)",
                durDrop: 2,
                durMove: 2,
                durReturn: 2,
                promoteOverlap: 0.9,
                returnDelay: 0.05
            };

            // Set container size
            container.style.width = `${width}px`;
            container.style.height = `${height}px`;

            // Build DOM
            const cardEls = cardsData.map((data, i) => {
                const el = document.createElement('div');
                el.className = 'swap-card';
                el.innerHTML = `
                    <i class="${data.icon}"></i>
                    <h4>${data.title}</h4>
                    <p>${data.desc}</p>
                `;
                container.appendChild(el);
                return el;
            });

            // Initial Position
            const total = cardEls.length;
            
            const makeSlot = (i) => ({
                x: i * cardDistance,
                y: i * verticalDistance, 
                z: -i * 50, 
                zIndex: total - i,
                opacity: 1 - (i * 0.1) 
            });

            cardEls.forEach((el, i) => {
                const slot = makeSlot(i);
                gsap.set(el, {
                    x: slot.x,
                    y: slot.y,
                    z: slot.z,
                    zIndex: slot.zIndex,
                    opacity: slot.opacity,
                    xPercent: -50,
                    yPercent: -50,
                    transformOrigin: "center center"
                });
            });

            // Swap Animation
            let order = Array.from({ length: total }, (_, i) => i); 
            let intervalId;

            function swap() {
                if (order.length < 2) return;

                const frontIndex = order[0];
                const restIndices = order.slice(1);
                const elFront = cardEls[frontIndex];
                
                const tl = gsap.timeline();

                // 1. Drop Front Card
                tl.to(elFront, {
                    y: "+=300",
                    opacity: 0,
                    duration: config.durDrop,
                    ease: config.ease
                });

                // 2. Move Rest Forward
                tl.addLabel("promote", `-=${config.durDrop * config.promoteOverlap}`);
                
                restIndices.forEach((idx, i) => {
                    const el = cardEls[idx];
                    const slot = makeSlot(i); 
                    
                    tl.set(el, { zIndex: slot.zIndex }, "promote");
                    tl.to(el, {
                        x: slot.x,
                        y: slot.y,
                        z: slot.z,
                        opacity: slot.opacity,
                        duration: config.durMove,
                        ease: config.ease
                    }, `promote+=${i * 0.1}`);
                });

                // 3. Return Front Card to Back
                const backSlot = makeSlot(total - 1);
                tl.addLabel("return", `promote+=${config.durMove * config.returnDelay}`);
                
                tl.set(elFront, { zIndex: backSlot.zIndex }, "return");
                tl.to(elFront, {
                    x: backSlot.x,
                    y: backSlot.y,
                    z: backSlot.z,
                    opacity: backSlot.opacity,
                    duration: config.durReturn,
                    ease: config.ease
                }, "return");

                // Update Order Array
                order = [...restIndices, frontIndex];
            }

            // Start Loop
            intervalId = setInterval(swap, delay);

            // Hover Pause
            container.addEventListener('mouseenter', () => clearInterval(intervalId));
            container.addEventListener('mouseleave', () => intervalId = setInterval(swap, delay));
        }

        // ==========================================
        // SHAPE BLUR LOGIC (Vanilla Three.js)
        // ==========================================
        function initShapeBlur(containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;

            while (container.firstChild) {
                container.removeChild(container.firstChild);
            }

            try {
                // CONFIG
                const shapeSize = 1.2;
                const roundness = 0.4;
                const borderSize = 0.05;
                const circleSize = 0.3;
                const circleEdge = 0.5;
                
                // SHADERS
                const vertexShader = `
                    varying vec2 v_texcoord;
                    void main() {
                        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                        v_texcoord = uv;
                    }
                `;

                const fragmentShader = `
                    varying vec2 v_texcoord;
                    uniform vec2 u_mouse;
                    uniform vec2 u_resolution;
                    uniform float u_pixelRatio;
                    uniform float u_shapeSize;
                    uniform float u_roundness;
                    uniform float u_borderSize;
                    uniform float u_circleSize;
                    uniform float u_circleEdge;

                    #ifndef PI
                    #define PI 3.1415926535897932384626433832795
                    #endif
                    #ifndef TWO_PI
                    #define TWO_PI 6.2831853071795864769252867665590
                    #endif

                    vec2 coord(in vec2 p) {
                        p = p / u_resolution.xy;
                        if (u_resolution.x > u_resolution.y) {
                            p.x *= u_resolution.x / u_resolution.y;
                            p.x += (u_resolution.y - u_resolution.x) / u_resolution.y / 2.0;
                        } else {
                            p.y *= u_resolution.y / u_resolution.x;
                            p.y += (u_resolution.x - u_resolution.y) / u_resolution.x / 2.0;
                        }
                        p -= 0.5;
                        p *= vec2(-1.0, 1.0);
                        return p;
                    }

                    #define st0 coord(gl_FragCoord.xy)
                    #define mx coord(u_mouse * u_pixelRatio)

                    float sdRoundRect(vec2 p, vec2 b, float r) {
                        vec2 d = abs(p - 0.5) * 4.2 - b + vec2(r);
                        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - r;
                    }
                    float sdCircle(in vec2 st, in vec2 center) {
                        return length(st - center) * 2.0;
                    }

                    float aastep(float threshold, float value) {
                        float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;
                        return smoothstep(threshold - afwidth, threshold + afwidth, value);
                    }
                    float fill(in float x) { return 1.0 - aastep(0.0, x); }
                    float fill(float x, float size, float edge) {
                        return 1.0 - smoothstep(size - edge, size + edge, x);
                    }
                    float strokeAA(float x, float size, float w, float edge) {
                        float afwidth = length(vec2(dFdx(x), dFdy(x))) * 0.70710678;
                        float d = smoothstep(size - edge - afwidth, size + edge + afwidth, x + w * 0.5)
                                - smoothstep(size - edge - afwidth, size + edge + afwidth, x - w * 0.5);
                        return clamp(d, 0.0, 1.0);
                    }

                    void main() {
                        vec2 st = st0 + 0.5;
                        vec2 posMouse = mx * vec2(1., -1.) + 0.5;
                        
                        float size = u_shapeSize;
                        float roundness = u_roundness;
                        float borderSize = u_borderSize;
                        float circleSize = u_circleSize;
                        float circleEdge = u_circleEdge;

                        float sdfCircle = fill(
                            sdCircle(st, posMouse),
                            circleSize,
                            circleEdge
                        );

                        float sdf = sdRoundRect(st, vec2(size), roundness);
                        sdf = strokeAA(sdf, 0.0, borderSize, sdfCircle) * 4.0;

                        vec3 color = vec3(0.2, 0.4, 1.0); // Blue tint
                        float alpha = sdf;
                        gl_FragColor = vec4(color, alpha);
                    }
                `;

                // SETUP
                const scene = new THREE.Scene();
                const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);
                const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                renderer.setSize(container.clientWidth, container.clientHeight);
                container.appendChild(renderer.domElement);

                const vMouse = new THREE.Vector2();
                const vMouseDamp = new THREE.Vector2();
                const vResolution = new THREE.Vector2();

                const material = new THREE.ShaderMaterial({
                    vertexShader,
                    fragmentShader,
                    uniforms: {
                        u_mouse: { value: vMouseDamp },
                        u_resolution: { value: vResolution },
                        u_pixelRatio: { value: renderer.getPixelRatio() },
                        u_shapeSize: { value: shapeSize },
                        u_roundness: { value: roundness },
                        u_borderSize: { value: borderSize },
                        u_circleSize: { value: circleSize },
                        u_circleEdge: { value: circleEdge }
                    },
                    transparent: true,
                    // side: THREE.DoubleSide
                });

                const quad = new THREE.Mesh(new THREE.PlaneGeometry(2, 2), material);
                scene.add(quad);

                // EVENTS
                const onPointerMove = (e) => {
                    const rect = container.getBoundingClientRect();
                    vMouse.set(e.clientX - rect.left, e.clientY - rect.top);
                };
                container.addEventListener('mousemove', onPointerMove);

                // ANIMATION
                let lastTime = 0;
                const animate = (time) => {
                    requestAnimationFrame(animate);
                    const dt = (time - lastTime) * 0.001;
                    lastTime = time;

                    // Damp mouse
                    vMouseDamp.x = THREE.MathUtils.damp(vMouseDamp.x, vMouse.x, 8, dt);
                    vMouseDamp.y = THREE.MathUtils.damp(vMouseDamp.y, vMouse.y, 8, dt);

                    renderer.render(scene, camera);
                };
                requestAnimationFrame(animate);

                // RESIZE
                const resizeObserver = new ResizeObserver(() => {
                    const w = container.clientWidth;
                    const h = container.clientHeight;
                    renderer.setSize(w, h);
                    
                    // Update uniforms
                    const dpr = renderer.getPixelRatio();
                    vResolution.set(w, h).multiplyScalar(dpr);
                    material.uniforms.u_pixelRatio.value = dpr;
                });
                resizeObserver.observe(container);

            } catch (e) {
                console.error("WebGL Context Error in ShapeBlur:", e);
            }
        }
    </script>
</body>
</html>